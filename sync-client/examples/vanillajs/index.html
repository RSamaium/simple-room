<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.1/socket.io.js"
    integrity="sha512-9mpsATI0KClwt+xVZfbcf2lJ8IFBAwsubJ6mI3rtULwyM3fBmQFzj0It4tGqxLOGQwGfJdk/G+fANnxfq9/cew=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="../../dist/simple-room-client.umd.cjs"></script>

<button id="bet">Bet</button>
<button id="fold">Fold</button>
<pre id="code">

</pre>

<script>
    const { World, room } = SimpleRoom
    const socket = io('localhost:3050')
    
    World.listen(socket).join('myroom')
    
    room.listen(() => {
        document.getElementById('code').textContent = JSON.stringify(room.get(), null, 2)
    })

    socket.on('disconnect', () => {
        console.log('disconnected')
    })

    socket.on('error', (errorData) => {
        console.error('Erreur reÃ§ue du serveur:', errorData);
    });

    socket.on('connect_error', (error) => {
        console.error('Connect error', error.message);
    });

    document.getElementById('bet').addEventListener('click', () => {
        World.action('bet', 10)
    })

    document.getElementById('fold').addEventListener('click', () => {
        World.action('fold')
    })
</script>