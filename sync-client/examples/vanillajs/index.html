<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.1/socket.io.js"
    integrity="sha512-9mpsATI0KClwt+xVZfbcf2lJ8IFBAwsubJ6mI3rtULwyM3fBmQFzj0It4tGqxLOGQwGfJdk/G+fANnxfq9/cew=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="../../dist/simple-room-client.umd.cjs"></script>

<div id="count"></div>
<button id="btn">Increment</button>

<script>
    const { World, room } = SimpleRoom
    const socket = io('localhost:3050')
    World.listen(socket).join('myroom')

    socket.on('disconnect', () => {
        console.log('disconnected')
    })

    socket.on('error', (errorData) => {
        console.error('Erreur reÃ§ue du serveur:', errorData);
    });

    socket.on('connect_error', (error) => {
        console.error('Connect error', error.message);
    });

    room.listen(() => {
        console.log(room.get())
        document.getElementById('count').textContent = room.get().count
    })

    document.getElementById('btn').addEventListener('click', () => {
        World.action('increment')
    })
</script>